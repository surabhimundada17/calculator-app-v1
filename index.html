html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Modern Calculator</title>
<style>
  :root {
    --primary-color: #4CAF50;
    --button-color: #fff;
    --background-color: #f9f9f9;
    --border-radius: 8px;
    --font-family: 'Helvetica Neue', Arial, sans-serif;
  }

  body {
    margin: 0;
    font-family: var(--font-family);
    background-color: var(--background-color);
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }

  .calculator {
    background: #fff;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    border-radius: var(--border-radius);
    width: 90%;
    max-width: 400px;
    padding: 20px;
    display: flex;
    flex-direction: column;
  }

  .display {
    background: #222;
    color: #fff;
    font-size: 2em;
    padding: 20px;
    border-radius: var(--border-radius);
    margin-bottom: 15px;
    text-align: right;
    overflow-wrap: break-word;
  }

  .buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
  }

  button {
    padding: 20px 0;
    font-size: 1.2em;
    border: none;
    border-radius: var(--border-radius);
    background-color: var(--button-color);
    cursor: pointer;
    transition: background-color 0.2s, transform 0.1s;
  }

  button:active {
    transform: scale(0.98);
    background-color: #e0e0e0;
  }

  /* Specific styles for operation buttons */
  .operator {
    background-color: var(--primary-color);
    color: #fff;
  }

  .operator:active {
    background-color: #45a049;
  }

  @media(max-width: 500px) {
    body {
      padding: 10px;
    }
    .calculator {
      padding: 15px;
    }
  }
</style>
</head>
<body>
<div class="calculator">
  <div id="display" class="display">0</div>
  <div class="buttons">
    <button data-action="clear">C</button>
    <button data-action="divide" class="operator">/</button>
    <button data-action="multiply" class="operator">*</button>
    <button data-action="subtract" class="operator">-</button>
    
    <button data-digit="7">7</button>
    <button data-digit="8">8</button>
    <button data-digit="9">9</button>
    <button data-action="add" class="operator">+</button>
    
    <button data-digit="4">4</button>
    <button data-digit="5">5</button>
    <button data-digit="6">6</button>
    <button data-equal="=">=</button>
    
    <button data-digit="1">1</button>
    <button data-digit="2">2</button>
    <button data-digit="3">3</button>
    <!-- Empty placeholder for layout symmetry -->
    <button style="visibility:hidden;"></button>
    
    <button data-digit="0">0</button>
    <button data-digit=".">.</button>
  </div>
</div>
<script>
  const display = document.getElementById('display');
  const buttons = document.querySelectorAll('button');

  let currentInput = '';
  let previousInput = '';
  let operation = null;
  let resetNext = false;

  function updateDisplay() {
    display.textContent = currentInput || '0';
  }

  function clearAll() {
    currentInput = '';
    previousInput = '';
    operation = null;
    resetNext = false;
    updateDisplay();
  }

  function appendNumber(number) {
    if (resetNext) {
      currentInput = '';
      resetNext = false;
    }
    if (number === '.' && currentInput.includes('.')) return;
    if (currentInput === '0' && number !== '.') {
      currentInput = number;
    } else {
      currentInput += number;
    }
    updateDisplay();
  }

  function chooseOperation(op) {
    if (currentInput === '' && op !== 'clear') return;
    if (previousInput !== '') {
      compute();
    } else {
      previousInput = currentInput;
    }
    operation = op;
    currentInput = '';
  }

  function compute() {
    let prev = parseFloat(previousInput);
    let current = parseFloat(currentInput);
    if (isNaN(prev) || isNaN(current)) return;

    switch (operation) {
      case 'add':
        prev += current;
        break;
      case 'subtract':
        prev -= current;
        break;
      case 'multiply':
        prev *= current;
        break;
      case 'divide':
        if (current === 0) {
          alert("Error: Cannot divide by zero");
          clearAll();
          return;
        }
        prev /= current;
        break;
      default:
        return;
    }

    currentInput = prev.toString();
    previousInput = '';
    operation = null;
    updateDisplay();
  }

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const action = btn.dataset.action;
      const digit = btn.datasetDigit;
      if (digit !== undefined) {
        appendNumber(digit);
      } else if (action) {
        if (action === 'clear') {
          clearAll();
        } else if (['add','subtract','multiply','divide'].includes(action)) {
          chooseOperation(action);
        }
      } else if (btn.hasAttribute('data-equal')) {
        if (currentInput !== '' && previousInput !== '' && operation) {
          compute();
        }
      }
    });
  });
</script>
</body>
</html>